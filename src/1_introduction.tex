\chapter{序論}
\label{introduction}

本章では本研究の背景，課題及び手法を提示し，本研究の概要を示す．
なお，Bitcoin~\cite{Bitcoin}は関係ない．

\section{地理的分散システムの発達}
\label{introduction:system-growth}
本節では，地理的分散システムの概要とその発達について説明する．

\subsection{地理的分散システム}
地理的分散システムとは主にP2Pネットワーク上で動作するシステムを指す．
従来のサーバ・クライアント方式では，クライアントがサーバに対してリクエストを投げ受け取ったサーバが特定の処理をした上でクライアントに何らかのレスポンスを返す．
対してP2Pサービスでは，参加するノードはサーバでもありクライアントでもある。クライアントとして他のノードに対してリクエストを送信したり，逆に他のノードからのリクエストに対してレスポンスを返す．
サーバ・クライアント方式に対して，耐障害性・冗長性・可用性において優れている．

\subsection{地理的分散システムの発達}
2000年代初頭，WinnyやGnutellaといったP2Pアプリケーションが頭角を表した．
それまでサービスの構成として一般的であったサーバ・クライアント方式とは異なるそれぞれのノードが対等な関係をもつP2Pアプリケーションについて注目が集まったが，サーバ・クライアント方式に置き換わるまでの隆盛はなく後退していった．
しかし2008年，satoshi nakamotoによりBitcoinのために開発されたブロックチェーン技術が登場することによって再度地理的分散システムへの注目が集まり，開発や研究の勢いが盛んになってきている．

\section{本研究の着目する課題と目的}
\label{introduction:issue-and-aim}
本節では，本研究で着目しているステージング環境の概要とその必要性，ならびに地理的分散システムのステージング環境を構築する際の課題点について説明し，最後に目的を明確化する．

\subsection{ステージング環境}
ステージング環境とは，本番環境での運用をする前に実際の環境を想定してシステムの動作確認を行うための環境である．
開発社が実際に開発を行うローカル環境と実運用する本番環境では，度々環境の差異から動作の違いが生じ，ローカル環境で正常に動作していたものが本番環境に反映した途端動作しなくなるといった事象が発生する．
そのような自体を防ぐためにローカル環境と本番環境の間に，本番環境を想定したステージング環境を構築し，一度ステージング環境にて動作を確認することで予想外の障害が発生するリスクを抑えることができる．

\subsection{ステージング環境の必要性}
システムである以上，地理的分散システムにも本番環境での予想外の障害に備えたステージング環境が必要である．
従来のサーバ・クライアント方式の場合であれば，開発者が任意に使用するデータセンターもしくはクラウド環境を選択しデプロイ作業を行えば，比較的簡単にステージング環境を構築することが可能できた．
しかし参加ノードの物理的位置を開発者側が操作することが出来ない地理的分散システムでは，物理的に離れた地点にノードを設置し，実際のインターネット環境上で動作確認を行う必要性がある．

\subsection{ステージング環境の構築における課題点}
地理的に分散した地点間でステージング環境を構築するには，コミュニケーションコストとヒューマンリソースのオーバーヘッドが課題点になると考えられる．
ステージングでの動作確認のためには，それぞれの地点でのノードの設置・サービスの動作確認に必要なリソースの共有・ステージング環境へのデプロイ作業，修正が発生した場合のアップデート作業といったタスクとそれらに伴う開発者同士のコミュニケーションが必要となるからである．
コミュニケーション不足によるミスや単なる人為的ミスが発生する可能性もあり，地理的分散システムのステージング環境の構築は困難であると考えられる．

\subsection{目的}
本研究では，地理的分散システムの動作確認を行うためのステージング環境を世界規模のコンピュータネットワーク上に構築するための手法を提案することを目的とする．

\section{本研究の仮説}
\label{introduction:hypothesis}
コンテナオーケストレーションツールとして開発されたKubernetesは，アプリケーションのデプロイやスケーリングを自動化し，コンテナ化されたアプリケーションを統合管理するためのシステムである．
Kubernetesでは使用するサーバをクラスタリングし，実際にコンテナを動かすサーバはワーカーノードと呼ばれる．マスターノードはワーカーノードに対して一斉にコンテナをデプロイしたりスケーリングしたりすることが可能である．

そこで本研究では，地理的分散システムに参加するノードをKubernetesによってクラスタリングすることで，{}で述べた課題点を解決し，{}で述べた世界規模のコンピュータネットワーク上に地理的分散システムのためのステージング環境を構築するという目的を達成できるのではないかと考えた．

\section{本研究の手法}
\label{introduction:proposal}
本研究では，地理的に分散したノード間でOpenVPNオーバーレイネットワークを形成することでノード同士が別セグメントに位置していたとしても相互に通信可能な状態にし，その上でKubernetesクラスタを構築した．
OpenVPNとはVPNネットワークを構築することができるオープンソースソフトウェアである．
別々のセグメントに位置するノード同士でKubernetesクラスタを構築し，コンテナ化したアプリケーションをデプロイできていることを確認し，本システムの課題点を解決できているか推定することで要件を満たせることを確認した．


\section{本論文の構成}
\label{introduction:structure}
本論文における以降の構成は次の通りである．

~\ref{background}章では，地理的分散システムとその実験的運用方法およびそれに伴う課題点について議論し，本研究の背景を明確化する．
~\ref{issue}章では，本研究で着目する問題を解決するための要件，仮説と手法について説明する．
~\ref{implementation}章では，~\ref{proposed}章で述べた提案手法について述べる．
~\ref{evaluation}章では，\ref{background}章で求められた課題に対しての評価を行い，考察する．
~\ref{consideration}章では、\ref{evaluation}章で導き出された結果と関連研究から本研究の妥当性を考察する．
~\ref{conclusion}章では，本研究のまとめと今後の課題についてまとめる．


%%% Local Variables:
%%% mode: japanese-latex
%%% TeX-master: "../thesis"
%%% End:
